{
  "id": "clean_workflow_v1",
  "revision": 1,
  "last_node_id": 68,
  "last_link_id": 175,
  "nodes": [
    {
      "id": 21,
      "type": "PreviewImage",
      "pos": [
        83.16272579192773,
        -582.8882158478045
      ],
      "size": [
        241.91143212743532,
        246
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 53
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 50,
      "type": "PreviewImage",
      "pos": [
        -518.1681348633606,
        -610.2069410191853
      ],
      "size": [
        269.32527756907916,
        246
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 96
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": []
    },
    {
      "id": 20,
      "type": "Florence2toCoordinates",
      "pos": [
        91.56047108862134,
        -723.0637313332371
      ],
      "size": [
        270,
        102
      ],
      "flags": {
        "collapsed": false
      },
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "data",
          "type": "JSON",
          "link": 51
        }
      ],
      "outputs": [
        {
          "name": "center_coordinates",
          "type": "STRING",
          "links": null
        },
        {
          "name": "bboxes",
          "type": "BBOX",
          "links": [
            52
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-segment-anything-2",
        "ver": "0c35fff5f382803e2310103357b5e985f5437f32",
        "Node name for S&R": "Florence2toCoordinates",
        "aux_id": "kijai/ComfyUI-segment-anything-2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "0",
        false
      ]
    },
    {
      "id": 37,
      "type": "CR Apply Multi-ControlNet",
      "pos": [
        -566.0123672202632,
        175.41200077678772
      ],
      "size": [
        287,
        98
      ],
      "flags": {
        "collapsed": false
      },
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "base_positive",
          "type": "CONDITIONING",
          "link": 74
        },
        {
          "name": "base_negative",
          "type": "CONDITIONING",
          "link": 75
        },
        {
          "name": "controlnet_stack",
          "type": "CONTROL_NET_STACK",
          "link": 73
        }
      ],
      "outputs": [
        {
          "name": "base_pos",
          "type": "CONDITIONING",
          "links": [
            76
          ]
        },
        {
          "name": "base_neg",
          "type": "CONDITIONING",
          "links": [
            77
          ]
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_Comfyroll_CustomNodes",
        "ver": "d78b780ae43fcf8c6b7c6505e6ffb4584281ceca",
        "Node name for S&R": "CR Apply Multi-ControlNet",
        "aux_id": "Suzie1/ComfyUI_Comfyroll_CustomNodes",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "On"
      ]
    },
    {
      "id": 2,
      "type": "DownloadAndLoadFlorence2Model",
      "pos": [
        -218.02571762041114,
        -906.2537267039232
      ],
      "size": [
        288.12721505058084,
        130
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "lora",
          "shape": 7,
          "type": "PEFTLORA",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "florence2_model",
          "type": "FL2MODEL",
          "links": [
            39
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-florence2",
        "ver": "00b63382966a444a9fefacb65b8deb188d12a458",
        "Node name for S&R": "DownloadAndLoadFlorence2Model",
        "aux_id": "kijai/ComfyUI-Florence2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "microsoft/Florence-2-base-ft",
        "fp16",
        "sdpa",
        false
      ]
    },
    {
      "id": 29,
      "type": "ImageScale",
      "pos": [
        1042.3569108339996,
        -222.65790720870567
      ],
      "size": [
        270,
        130
      ],
      "flags": {
        "collapsed": false
      },
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 66
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            64
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "ImageScale",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "lanczos",
        512,
        512,
        "center"
      ]
    },
    {
      "id": 24,
      "type": "IPAdapterModelLoader",
      "pos": [
        706.7701833175029,
        264.3801127874579
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [
            56
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_ipadapter_plus",
        "ver": "a0f451a5113cf9becb0847b92884cb10cbdec0ef",
        "Node name for S&R": "IPAdapterModelLoader",
        "aux_id": "cubiq/ComfyUI_IPAdapter_plus",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "ip-adapter-plus_sd15.safetensors"
      ]
    },
    {
      "id": 19,
      "type": "DownloadAndLoadSAM2Model",
      "pos": [
        82.61356400121471,
        -903.8221608576318
      ],
      "size": [
        315,
        130
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "sam2_model",
          "type": "SAM2MODEL",
          "links": [
            48
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-segment-anything-2",
        "ver": "0c35fff5f382803e2310103357b5e985f5437f32",
        "Node name for S&R": "DownloadAndLoadSAM2Model",
        "aux_id": "kijai/ComfyUI-segment-anything-2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "sam2.1_hiera_base_plus.safetensors",
        "single_image",
        "cuda",
        "fp16"
      ]
    },
    {
      "id": 36,
      "type": "CR Multi-ControlNet Stack",
      "pos": [
        -38.9012864653037,
        -222.37851034973633
      ],
      "size": [
        320,
        454
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "image_1",
          "shape": 7,
          "type": "IMAGE",
          "link": 102
        },
        {
          "name": "image_2",
          "shape": 7,
          "type": "IMAGE",
          "link": 86
        },
        {
          "name": "image_3",
          "shape": 7,
          "type": "IMAGE",
          "link": 97
        },
        {
          "name": "controlnet_stack",
          "shape": 7,
          "type": "CONTROL_NET_STACK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "CONTROLNET_STACK",
          "type": "CONTROL_NET_STACK",
          "links": [
            73
          ]
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_Comfyroll_CustomNodes",
        "ver": "d78b780ae43fcf8c6b7c6505e6ffb4584281ceca",
        "Node name for S&R": "CR Multi-ControlNet Stack",
        "aux_id": "Suzie1/ComfyUI_Comfyroll_CustomNodes",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "On",
        "control_lora_rank128_v11p_sd15_inpaint_fp16.safetensors",
        1,
        0,
        1,
        "On",
        "control_lora_rank128_v11p_sd15_canny_fp16.safetensors",
        0.7,
        0,
        1,
        "Off",
        "control_lora_rank128_v11p_sd15_seg_fp16.safetensors",
        1,
        0,
        1
      ]
    },
    {
      "id": 62,
      "type": "InpaintCropImproved",
      "pos": [
        311.35848681361875,
        -269.35147099912734
      ],
      "size": [
        348.095703125,
        650
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 135
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 136
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": [
            137
          ]
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            138,
            141,
            156
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": [
            142,
            143,
            144
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "a5fbe06f766ec237f304fb65bb94c0f255060109",
        "Node name for S&R": "InpaintCropImproved",
        "aux_id": "lquesada/ComfyUI-Inpaint-CropAndStitch",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        false,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        0,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1,
        true,
        512,
        512,
        "32",
        "gpu (much faster)"
      ]
    },
    {
      "id": 13,
      "type": "VAEDecode",
      "pos": [
        719.6550278555593,
        -478.2945286511233
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 36
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            121
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 8,
      "type": "CLIPTextEncode",
      "pos": [
        713.6325659773578,
        -671.2701138909235
      ],
      "size": [
        344.97262633851665,
        88
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 174
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            75
          ]
        }
      ],
      "title": "Negative Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "text"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 60,
      "type": "InpaintStitchImproved",
      "pos": [
        793.0923290061529,
        -383.8633715241463
      ],
      "size": [
        295.8121008543876,
        50.913349567965156
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "link": 137
        },
        {
          "name": "inpainted_image",
          "type": "IMAGE",
          "link": 121
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            122
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-Inpaint-CropAndStitch",
        "ver": "a5fbe06f766ec237f304fb65bb94c0f255060109",
        "Node name for S&R": "InpaintStitchImproved",
        "aux_id": "lquesada/ComfyUI-Inpaint-CropAndStitch",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 31,
      "type": "LoadImage",
      "pos": [
        694.0099606219338,
        -226.03467150832319
      ],
      "size": [
        311.64090188132263,
        434.92753227238563
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            66
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Load Reference Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "pasted/image (2).png",
        "image"
      ]
    },
    {
      "id": 27,
      "type": "CLIPVisionLoader",
      "pos": [
        1034.2822498885455,
        261.927620167798
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            61
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "CLIPVisionLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"
      ]
    },
    {
      "id": 3,
      "type": "Florence2Run",
      "pos": [
        -214.7712533685733,
        -734.8205747486082
      ],
      "size": [
        273.12721505058084,
        364
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 43
        },
        {
          "name": "florence2_model",
          "type": "FL2MODEL",
          "link": 39
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            53
          ]
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": []
        },
        {
          "name": "caption",
          "type": "STRING",
          "links": null
        },
        {
          "name": "data",
          "type": "JSON",
          "links": [
            51
          ]
        }
      ],
      "title": "Florence2 Generate Mask",
      "properties": {
        "cnr_id": "comfyui-florence2",
        "ver": "00b63382966a444a9fefacb65b8deb188d12a458",
        "Node name for S&R": "Florence2Run",
        "aux_id": "kijai/ComfyUI-Florence2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "carpet",
        "caption_to_phrase_grounding",
        false,
        true,
        1024,
        3,
        true,
        "",
        256528382152112,
        "randomize"
      ]
    },
    {
      "id": 30,
      "type": "LoadImage",
      "pos": [
        -853.0721164366706,
        -736.1400043364124
      ],
      "size": [
        315,
        314
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            65
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "download (1).png",
        "image"
      ]
    },
    {
      "id": 5,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -843.6230407972266,
        -871.6698970255281
      ],
      "size": [
        309.96135282198395,
        98
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            172
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            173,
            174
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            37,
            105
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "CheckpointLoaderSimple",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "RealisticVisionV6.safetensors"
      ]
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        708.8242573793806,
        -854.7079358716992
      ],
      "size": [
        341.48274588473964,
        124.4291631764404
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 173
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            74
          ]
        }
      ],
      "title": "Positive Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "carpet"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 12,
      "type": "KSampler",
      "pos": [
        1098.5067262684965,
        -862.870973335909
      ],
      "size": [
        270,
        474
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 165
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 76
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 77
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 106
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            36
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        360926537050766,
        "randomize",
        20,
        1,
        "dpmpp_sde",
        "karras",
        0.95
      ]
    },
    {
      "id": 26,
      "type": "IPAdapterAdvanced",
      "pos": [
        1038.6490268429807,
        -56.10401675470325
      ],
      "size": [
        315,
        278
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 172
        },
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 56
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 64
        },
        {
          "name": "image_negative",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "attn_mask",
          "shape": 7,
          "type": "MASK",
          "link": 144
        },
        {
          "name": "clip_vision",
          "shape": 7,
          "type": "CLIP_VISION",
          "link": 61
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            165
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_ipadapter_plus",
        "ver": "a0f451a5113cf9becb0847b92884cb10cbdec0ef",
        "Node name for S&R": "IPAdapterAdvanced",
        "aux_id": "cubiq/ComfyUI_IPAdapter_plus",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1,
        "linear",
        "concat",
        0,
        1,
        "V only"
      ]
    },
    {
      "id": 16,
      "type": "ImageScale",
      "pos": [
        -523.296108002426,
        -772.0629214072271
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 65
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            43,
            47,
            93,
            96,
            135
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "ImageScale",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "lanczos",
        768,
        768,
        "center"
      ]
    },
    {
      "id": 47,
      "type": "PreviewImage",
      "pos": [
        -292.4530448098624,
        -105.81543844376392
      ],
      "size": [
        234.0547473229666,
        246
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 91
        }
      ],
      "outputs": [],
      "title": "image_3",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 38,
      "type": "AIO_Preprocessor",
      "pos": [
        -621.9405013884484,
        -225.7215327620666
      ],
      "size": [
        300,
        82
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 163
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            86,
            89
          ]
        }
      ],
      "title": "ControlNet [2]",
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "12f35647f0d510e03b45a47fb420fe1245a575df",
        "Node name for S&R": "AIO_Preprocessor",
        "aux_id": "Fannovel16/comfyui_controlnet_aux",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "CannyEdgePreprocessor",
        512
      ]
    },
    {
      "id": 45,
      "type": "PreviewImage",
      "pos": [
        -563.7916076447369,
        -103.9144459697691
      ],
      "size": [
        218.93880578891822,
        246
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 89
        }
      ],
      "outputs": [],
      "title": "image_2",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 43,
      "type": "InpaintPreprocessor",
      "pos": [
        -899.4316906442177,
        -224.01354846138057
      ],
      "size": [
        264.72946975388754,
        78.32045094066132
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 156
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 143
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            90,
            102,
            163
          ]
        }
      ],
      "title": "Inpaint Preprocessor [1]",
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "12f35647f0d510e03b45a47fb420fe1245a575df",
        "Node name for S&R": "InpaintPreprocessor",
        "aux_id": "Fannovel16/comfyui_controlnet_aux",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        false
      ]
    },
    {
      "id": 46,
      "type": "PreviewImage",
      "pos": [
        -896.7177471231208,
        -106.79409473884884
      ],
      "size": [
        244.1320416789988,
        246
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 90
        }
      ],
      "outputs": [],
      "title": "image_1",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 39,
      "type": "AIO_Preprocessor",
      "pos": [
        -312.2598034610593,
        -226.42028056053007
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": false
      },
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 141
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            91,
            97
          ]
        }
      ],
      "title": "ControlNet [3]",
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "12f35647f0d510e03b45a47fb420fe1245a575df",
        "Node name for S&R": "AIO_Preprocessor",
        "aux_id": "Fannovel16/comfyui_controlnet_aux",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "none",
        512
      ]
    },
    {
      "id": 23,
      "type": "MaskPreview+",
      "pos": [
        404.08399873828427,
        -574.205848394097
      ],
      "size": [
        268.78421707685425,
        246
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 55
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfyui_essentials",
        "ver": "9d9f4bedfc9f0321c19faf71855e228c93bd0dc9",
        "Node name for S&R": "MaskPreview+",
        "aux_id": "cubiq/ComfyUI_essentials",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 18,
      "type": "Sam2Segmentation",
      "pos": [
        408.355961682004,
        -788.4910449784848
      ],
      "size": [
        256.56360752529054,
        182
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "sam2_model",
          "type": "SAM2MODEL",
          "link": 48
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 47
        },
        {
          "name": "coordinates_positive",
          "shape": 7,
          "type": "STRING",
          "link": null
        },
        {
          "name": "coordinates_negative",
          "shape": 7,
          "type": "STRING",
          "link": null
        },
        {
          "name": "bboxes",
          "shape": 7,
          "type": "BBOX",
          "link": 52
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            55,
            136
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-segment-anything-2",
        "ver": "0c35fff5f382803e2310103357b5e985f5437f32",
        "Node name for S&R": "Sam2Segmentation",
        "aux_id": "kijai/ComfyUI-segment-anything-2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {
            "coordinates_positive": true,
            "coordinates_negative": true
          }
        },
        "rejects_ue_links": false
      },
      "widgets_values": [
        true,
        false
      ]
    },
    {
      "id": 55,
      "type": "VAEEncodeForInpaint",
      "pos": [
        412.4805771753205,
        -929.927276028468
      ],
      "size": [
        272.4048828125,
        98
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 138
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 105
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 142
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            106
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "VAEEncodeForInpaint",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.5.2"
        }
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 49,
      "type": "SaveImage",
      "pos": [
        1387.7920457650725,
        -767.8800366488489
      ],
      "size": [
        302.1327161764789,
        365.7571308906529
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 93
        }
      ],
      "outputs": [],
      "title": "Input Image Copy",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "SaveImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "[INPUT]"
      ]
    },
    {
      "id": 35,
      "type": "SaveImage",
      "pos": [
        1370.6905076021428,
        -298.33712417605506
      ],
      "size": [
        323.3259787910083,
        377.3054606376486
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 122
        }
      ],
      "outputs": [],
      "title": "Output Image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.76",
        "Node name for S&R": "SaveImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.5.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "[OUTPUT]"
      ]
    }
  ],
  "links": [
    [
      36,
      12,
      0,
      13,
      0,
      "LATENT"
    ],
    [
      37,
      5,
      2,
      13,
      1,
      "VAE"
    ],
    [
      39,
      2,
      0,
      3,
      1,
      "FL2MODEL"
    ],
    [
      43,
      16,
      0,
      3,
      0,
      "IMAGE"
    ],
    [
      47,
      16,
      0,
      18,
      1,
      "IMAGE"
    ],
    [
      48,
      19,
      0,
      18,
      0,
      "SAM2MODEL"
    ],
    [
      51,
      3,
      3,
      20,
      0,
      "JSON"
    ],
    [
      52,
      20,
      1,
      18,
      4,
      "BBOX"
    ],
    [
      53,
      3,
      0,
      21,
      0,
      "IMAGE"
    ],
    [
      55,
      18,
      0,
      23,
      0,
      "MASK"
    ],
    [
      56,
      24,
      0,
      26,
      1,
      "IPADAPTER"
    ],
    [
      61,
      27,
      0,
      26,
      5,
      "CLIP_VISION"
    ],
    [
      64,
      29,
      0,
      26,
      2,
      "IMAGE"
    ],
    [
      65,
      30,
      0,
      16,
      0,
      "IMAGE"
    ],
    [
      66,
      31,
      0,
      29,
      0,
      "IMAGE"
    ],
    [
      73,
      36,
      0,
      37,
      2,
      "CONTROL_NET_STACK"
    ],
    [
      74,
      7,
      0,
      37,
      0,
      "CONDITIONING"
    ],
    [
      75,
      8,
      0,
      37,
      1,
      "CONDITIONING"
    ],
    [
      76,
      37,
      0,
      12,
      1,
      "CONDITIONING"
    ],
    [
      77,
      37,
      1,
      12,
      2,
      "CONDITIONING"
    ],
    [
      86,
      38,
      0,
      36,
      1,
      "IMAGE"
    ],
    [
      89,
      38,
      0,
      45,
      0,
      "IMAGE"
    ],
    [
      90,
      43,
      0,
      46,
      0,
      "IMAGE"
    ],
    [
      91,
      39,
      0,
      47,
      0,
      "IMAGE"
    ],
    [
      93,
      16,
      0,
      49,
      0,
      "IMAGE"
    ],
    [
      96,
      16,
      0,
      50,
      0,
      "IMAGE"
    ],
    [
      97,
      39,
      0,
      36,
      2,
      "IMAGE"
    ],
    [
      102,
      43,
      0,
      36,
      0,
      "IMAGE"
    ],
    [
      105,
      5,
      2,
      55,
      1,
      "VAE"
    ],
    [
      106,
      55,
      0,
      12,
      3,
      "LATENT"
    ],
    [
      121,
      13,
      0,
      60,
      1,
      "IMAGE"
    ],
    [
      122,
      60,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      135,
      16,
      0,
      62,
      0,
      "IMAGE"
    ],
    [
      136,
      18,
      0,
      62,
      1,
      "MASK"
    ],
    [
      137,
      62,
      0,
      60,
      0,
      "STITCHER"
    ],
    [
      138,
      62,
      1,
      55,
      0,
      "IMAGE"
    ],
    [
      141,
      62,
      1,
      39,
      0,
      "IMAGE"
    ],
    [
      142,
      62,
      2,
      55,
      2,
      "MASK"
    ],
    [
      143,
      62,
      2,
      43,
      1,
      "MASK"
    ],
    [
      144,
      62,
      2,
      26,
      4,
      "MASK"
    ],
    [
      156,
      62,
      1,
      43,
      0,
      "IMAGE"
    ],
    [
      163,
      43,
      0,
      38,
      0,
      "IMAGE"
    ],
    [
      165,
      26,
      0,
      12,
      0,
      "MODEL"
    ],
    [
      172,
      5,
      0,
      26,
      0,
      "MODEL"
    ],
    [
      173,
      5,
      1,
      7,
      0,
      "CLIP"
    ],
    [
      174,
      5,
      1,
      8,
      0,
      "CLIP"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Model Loaders",
      "bounding": [
        -858.352510551114,
        -946.8631329156083,
        626.8243088690958,
        619.365580380492
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Segmentation (Florence + SAM)",
      "bounding": [
        -223.01440995320397,
        -978.8753220715745,
        909.4380127344075,
        655.6610886607286
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "ControlNet",
      "bounding": [
        -912.9752512461675,
        -303.47875501131335,
        1209.8279703487412,
        585.6991479225783
      ],
      "color": "#888833",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "5. Generation (Latent & Sampling)",
      "bounding": [
        697.5620214162655,
        -943.7729094096472,
        679.592601446471,
        615.1159415340483
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "IPAdapter",
      "bounding": [
        692.9873838482845,
        -287.8042932324972,
        667.3784046323486,
        617.4556989883808
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "workflowRendererVersion": "LG",
    "ue_links": [],
    "ds": {
      "scale": 1,
      "offset": [
        999.4316906442177,
        1029.927276028468
      ]
    },
    "frontendVersion": "1.36.14",
    "links_added_by_ue": []
  },
  "version": 0.4
}